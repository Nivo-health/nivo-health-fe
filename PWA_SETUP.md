# Progressive Web App (PWA) Setup Guide

Your Clinic OPD Management System is now configured as a Progressive Web App! This allows users to install it on their devices and use it offline.

## ‚úÖ What's Already Configured

- ‚úÖ Service Worker (auto-generated by vite-plugin-pwa)
- ‚úÖ Web App Manifest
- ‚úÖ PWA Meta Tags
- ‚úÖ Offline Caching Strategy
- ‚úÖ Auto-update on new versions

## üì± Installing the App

### On Mobile Devices:

**Android (Chrome):**

1. Open the app in Chrome browser
2. Tap the menu (3 dots) ‚Üí "Add to Home screen" or "Install app"
3. Confirm installation
4. The app icon will appear on your home screen

**iOS (Safari):**

1. Open the app in Safari
2. Tap the Share button (square with arrow)
3. Select "Add to Home Screen"
4. Customize the name and tap "Add"
5. The app icon will appear on your home screen

### On Desktop:

**Chrome/Edge:**

1. Look for the install icon in the address bar
2. Click "Install" when prompted
3. The app will open in its own window

## üé® Generating App Icons

You need to create PNG icons for the PWA. Here are your options:

### Option 1: Using Online Tools (Recommended)

1. Go to [PWA Asset Generator](https://github.com/onderceylan/pwa-asset-generator) or [RealFaviconGenerator](https://realfavicongenerator.net/)
2. Upload your logo/icon (512x512px recommended)
3. Generate all required sizes
4. Download and place in the `public/` folder:
   - `pwa-192x192.png` (192x192px)
   - `pwa-512x512.png` (512x512px)
   - `apple-touch-icon.png` (180x180px)
   - `favicon.ico` (16x16, 32x32, 48x48px)

### Option 2: Using ImageMagick (Command Line)

If you have ImageMagick installed:

```bash
# Create a source icon (512x512px) first, then:
convert icon-512.png -resize 192x192 public/pwa-192x192.png
convert icon-512.png -resize 512x512 public/pwa-512x512.png
convert icon-512.png -resize 180x180 public/apple-touch-icon.png
```

### Option 3: Manual Creation

Create these icon files manually:

- `public/pwa-192x192.png` - 192x192 pixels
- `public/pwa-512x512.png` - 512x512 pixels
- `public/apple-touch-icon.png` - 180x180 pixels
- `public/favicon.ico` - Multi-size ICO file

**Icon Design Tips:**

- Use your clinic logo or a medical cross icon
- Ensure icons are clear and recognizable at small sizes
- Use solid colors or high contrast
- Test on both light and dark backgrounds

## üß™ Testing PWA Features

### 1. Test Service Worker

1. Build the app: `npm run build`
2. Preview: `npm run preview`
3. Open DevTools ‚Üí Application tab ‚Üí Service Workers
4. You should see the service worker registered

### 2. Test Offline Mode

1. Open DevTools ‚Üí Network tab
2. Enable "Offline" checkbox
3. Refresh the page
4. The app should still work (cached resources)

### 3. Test Install Prompt

1. Open the app in Chrome/Edge
2. Look for install icon in address bar
3. Click to install
4. App should open in standalone window

### 4. Test on Mobile

1. Deploy the app (or use ngrok for local testing)
2. Open on mobile device
3. Test "Add to Home Screen"
4. Launch from home screen icon
5. Should open in standalone mode (no browser UI)

## üîß Configuration

### Customize App Name & Colors

Edit `vite.config.ts`:

```typescript
manifest: {
  name: 'Your Clinic Name', // Full name
  short_name: 'Clinic',      // Short name (12 chars max)
  theme_color: '#0d9488',    // Theme color (teal)
  background_color: '#ffffff', // Background color
  // ...
}
```

### Update Cache Strategy

Edit `vite.config.ts` ‚Üí `workbox` section:

```typescript
workbox: {
  globPatterns: ['**/*.{js,css,html,ico,png,svg}'],
  runtimeCaching: [
    // Add your API caching rules here
  ]
}
```

### Disable PWA in Development

Edit `vite.config.ts`:

```typescript
devOptions: {
  enabled: false, // Disable PWA in development
}
```

## üìä PWA Checklist

- [x] Service Worker configured
- [x] Web App Manifest configured
- [x] Meta tags added
- [ ] Icons generated (192x192, 512x512, apple-touch-icon)
- [ ] Favicon created
- [ ] Tested on mobile device
- [ ] Tested offline functionality
- [ ] Tested install prompt
- [ ] Deployed to production

## üöÄ Deployment Notes

When deploying to production:

1. **HTTPS Required:** PWAs require HTTPS (except localhost)
2. **Build First:** Always run `npm run build` before deploying
3. **Service Worker:** Will be auto-generated in `dist/` folder
4. **Manifest:** Will be auto-generated as `manifest.webmanifest`

## üêõ Troubleshooting

### Service Worker Not Registering

- Check browser console for errors
- Ensure app is served over HTTPS (or localhost)
- Clear browser cache and reload

### Icons Not Showing

- Verify icon files exist in `public/` folder
- Check file names match manifest configuration
- Ensure icons are correct format (PNG)

### Install Prompt Not Appearing

- App must be served over HTTPS
- Must have valid manifest
- Must have service worker registered
- User must visit site at least twice (engagement requirement)

### Offline Not Working

- Check service worker is registered
- Verify files are being cached (DevTools ‚Üí Application ‚Üí Cache Storage)
- Check `globPatterns` in vite.config.ts

## üìö Additional Resources

- [PWA Documentation](https://web.dev/progressive-web-apps/)
- [Vite PWA Plugin](https://vite-pwa-org.netlify.app/)
- [Web App Manifest](https://developer.mozilla.org/en-US/docs/Web/Manifest)
- [Service Workers](https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API)

## üéØ Next Steps

1. Generate and add proper app icons
2. Test on real mobile devices
3. Customize app name and colors
4. Deploy to production
5. Test install and offline functionality
6. Monitor service worker updates

---

**Your app is now a Progressive Web App! üéâ**

Users can install it on their devices and use it like a native app.
